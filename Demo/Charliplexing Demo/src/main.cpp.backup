#include <Arduino.h>

#define CP_PIN1 2
#define CP_PIN2 3
#define CP_PIN3 4
#define CP_PIN4 5

#define CP_PIN(num) (num+2)

constexpr int permutations[12][4] = {
    {0, 1, 2, 3}, {0, 2, 1, 3}, {0, 3, 1, 2},  // A, B | C, D   | A, C | B, D  | A, D | B, C
    {1, 0, 2, 3}, {1, 2, 0, 3}, {1, 3, 0, 2},  // B, A | C, D   | B, C | A, D  | B, D | A, C
    {2, 0, 1, 3}, {2, 1, 0, 3}, {2, 3, 0, 1},  // C, A | B, D   | C, B | A, D  | C, D | A, B
    {3, 0, 1, 2}, {3, 1, 0, 2}, {3, 2, 0, 1}   // D, A | B, C   | D, B | A, C  | D, C | A, B
};

void light_up(int high, int low, int hi_inpd1, int hi_inpd2) {
    pinMode(high, OUTPUT);
    digitalWrite(high, HIGH);

    pinMode(low, OUTPUT);
    digitalWrite(low, LOW);

    pinMode(hi_inpd1, INPUT);
    pinMode(hi_inpd2, INPUT);
}

void light_up_perm(int i) {
    light_up(
        CP_PIN(permutations[i][0]),
        CP_PIN(permutations[i][1]),
        CP_PIN(permutations[i][2]),
        CP_PIN(permutations[i][3])
    );
}

void setup() {
    
}

void loop() {
    for (int i = 0; i < 10; i++) {
        light_up_perm(i);
        delay(1);
    }
}

